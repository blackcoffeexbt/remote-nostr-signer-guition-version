\hypertarget{app_8h_source}{}\doxysection{app.\+h}
\label{app_8h_source}\index{src/app.h@{src/app.h}}
\mbox{\hyperlink{app_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}driver/gpio.h"{}}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00013}00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{settings_8h}{settings.h}}"{}}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00014}00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{display_8h}{display.h}}"{}}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{wifi__manager_8h}{wifi\_manager.h}}"{}}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00016}00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ui_8h}{ui.h}}"{}}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00017}00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{remote__signer_8h}{remote\_signer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00019}00019\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_app}{App}}\ \{}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00023}\mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612}{00023}}\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00024}\mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612a930259ab20f9a04311c16640bb26add1}{00024}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612a930259ab20f9a04311c16640bb26add1}{APP\_STATE\_INITIALIZING}},}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00025}\mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612a55daefd944d49d6da558c973a8379201}{00025}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612a55daefd944d49d6da558c973a8379201}{APP\_STATE\_READY}},}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00026}\mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612a6a26d4653e1840d18bb8288b50f622c3}{00026}}\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612a6a26d4653e1840d18bb8288b50f622c3}{APP\_STATE\_ERROR}},}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00027}00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612a4200bd638de59a9a73b819336e98c8a1}{APP\_STATE\_UPDATING}}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00028}\mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612a4200bd638de59a9a73b819336e98c8a1}{00028}}\ \ \ \ \ \}\ \mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612}{app\_state\_t}};}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00029}00029\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00033}00033\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a36c71ca6134247ab51d1a7a2d0a02cd4}{init}}();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Initialize\ all\ modules}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00034}00034\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_aa172d6e06d067c1653591cb381a666e9}{cleanup}}();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Cleanup\ all\ modules}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00035}00035\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_ae09dc71078b64c56c673b1ad1d25b5d1}{run}}();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Main\ application\ loop}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00036}00036\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00040}00040\ \ \ \ \ \mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612}{app\_state\_t}}\ \mbox{\hyperlink{namespace_app_a25186002dcf6373ba059741d47fc1514}{getState}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00041}00041\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_ac12729d606c8030bbeb7e32b51810f1a}{setState}}(\mbox{\hyperlink{namespace_app_a3f1ec36c31118942672049df267b7612}{app\_state\_t}}\ state);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00042}00042\ \ \ \ \ String\ \mbox{\hyperlink{namespace_app_a22c8042a43eb38e54720382fedf1c31b}{getStateString}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00043}00043\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00047}00047\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a7d55551c0ecee64d4385182df40da631}{handleError}}(\textcolor{keyword}{const}\ String\&\ module,\ \textcolor{keyword}{const}\ String\&\ error);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00048}00048\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_af8fb1a6528b1affa25083773726e4786}{clearError}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00049}00049\ \ \ \ \ String\ \mbox{\hyperlink{namespace_app_a80c864880e5ca12c02093585ed0cf447}{getLastError}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00050}00050\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00054}00054\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_afb037eba2d5bcaebddb20eee584dc210}{notifyWiFiStatusChanged}}(\textcolor{keywordtype}{bool}\ connected);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00055}00055\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_afadd76c05e486d9157d66c0c8346acf3}{notifySignerStatusChanged}}(\textcolor{keywordtype}{bool}\ connected);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00056}00056\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a34706d7f2162285403ae24260b7be973}{notifySigningRequest}}(\textcolor{keyword}{const}\ String\&\ eventKind,\ \textcolor{keyword}{const}\ String\&\ content);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00057}00057\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a257efbaaef01b8858ee5cbd6f903aa38}{notifySigningCompleted}}(\textcolor{keywordtype}{bool}\ success);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00058}00058\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00062}00062\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespace_app_ac9b35bb4ea38c1da915e589ff5a34d39}{loadConfiguration}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00063}00063\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespace_app_a8d662eaf81462543f2a05532ab9f9e36}{saveConfiguration}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00064}00064\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_aad3d214ab3bb9320fbfada4d1a34b202}{resetToDefaults}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00065}00065\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00069}00069\ \ \ \ \ String\ \mbox{\hyperlink{namespace_app_adc6346b4d03b67d61ede883d3c44cd64}{getVersion}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00070}00070\ \ \ \ \ String\ \mbox{\hyperlink{namespace_app_a326939b9c97408a27bb5ac2e62e50d0e}{getBuildInfo}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00071}00071\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a8eff98ed4b5bce3fbe05f44c6be52c73}{printSystemInfo}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00072}00072\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00076}00076\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_adfe353584321cab94c6491c32470d046}{resetActivityTimer}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00077}00077\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_afebab729ad90b87d5c556255298b5f8b}{handleTouchWake}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00078}00078\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00082}00082\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespace_app_a8c902b97afa2062bbd08efa469419324}{checkModuleHealth}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00083}00083\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a683e7e9d5f87752ba306ae8d4b3043c8}{reportModuleStatus}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00084}00084\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00088}00088\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a097c52447c7be74b6f5a17b88087042f}{checkForUpdates}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00089}00089\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespace_app_a90b22915a334056d893baf1c323f55b7}{isUpdateAvailable}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00090}00090\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a1fe12b467c84861a1b948df26eb74ca7}{performUpdate}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00091}00091\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00095}00095\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a70e0965d86f6b58c39348c8802e27591}{runDiagnostics}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00096}00096\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_aee9b615b8302567165e2e5ad826d6201}{generateStatusReport}}();}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00097}00097\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00101}\mbox{\hyperlink{namespace_app_adf3327a85deb264024d0f53e7ab3ff0c}{00101}}\ \ \ \ \ \textcolor{keyword}{typedef}\ void\ (*\mbox{\hyperlink{namespace_app_adf3327a85deb264024d0f53e7ab3ff0c}{app\_event\_callback\_t}})(\textcolor{keyword}{const}\ String\&\ event,\ \textcolor{keyword}{const}\ String\&\ data);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00102}00102\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_a82c928935fb5b3bea9a951dd77a8f1f6}{setEventCallback}}(\mbox{\hyperlink{namespace_app_adf3327a85deb264024d0f53e7ab3ff0c}{app\_event\_callback\_t}}\ callback);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00103}00103\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespace_app_aefca72a9059055affbcbf62e10eb9cc6}{fireEvent}}(\textcolor{keyword}{const}\ String\&\ event,\ \textcolor{keyword}{const}\ String\&\ data);}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00104}00104\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00108}\mbox{\hyperlink{namespace_app_1_1_config}{00108}}\ \ \ \ \ \textcolor{keyword}{namespace\ }Config\ \{}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00109}\mbox{\hyperlink{namespace_app_1_1_config_a0181374776894e0ccb02bfc676475fa1}{00109}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ String\ \mbox{\hyperlink{namespace_app_1_1_config_a0181374776894e0ccb02bfc676475fa1}{VERSION}}\ =\ \textcolor{stringliteral}{"{}v1.0.0"{}};}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00110}\mbox{\hyperlink{namespace_app_1_1_config_af7e549c1102378eb53a72a47eb29ba54}{00110}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ String\ \mbox{\hyperlink{namespace_app_1_1_config_af7e549c1102378eb53a72a47eb29ba54}{BUILD\_DATE}}\ =\ \_\_DATE\_\_\ \textcolor{stringliteral}{"{}\ "{}}\ \_\_TIME\_\_;}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00111}\mbox{\hyperlink{namespace_app_1_1_config_aed2365acb340abc9a96c7e9cbf5a4df1}{00111}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{namespace_app_1_1_config_aed2365acb340abc9a96c7e9cbf5a4df1}{HEALTH\_CHECK\_INTERVAL}}\ =\ 30000;\ \textcolor{comment}{//\ 30\ seconds}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00112}\mbox{\hyperlink{namespace_app_1_1_config_a00a57a231630d54b3d237936cdb56445}{00112}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{namespace_app_1_1_config_a00a57a231630d54b3d237936cdb56445}{STATUS\_REPORT\_INTERVAL}}\ =\ 300000;\ \textcolor{comment}{//\ 5\ minutes}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00113}00113\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{app_8h_source_l00114}00114\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Touch\ handling\ configuration}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00115}\mbox{\hyperlink{namespace_app_1_1_config_aa4a9714186cd1ece72f73ca03cc723da}{00115}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{namespace_app_1_1_config_aa4a9714186cd1ece72f73ca03cc723da}{TOUCH\_DEBOUNCE\_TIME}}\ =\ 50;\ \textcolor{comment}{//\ 50ms\ debounce}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00116}00116\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{app_8h_source_l00117}00117\ \}}

\end{DoxyCode}
